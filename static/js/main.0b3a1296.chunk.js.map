{"version":3,"sources":["ContractABI.js","kitties/KittieInfo.js","kitties/Kittie.js","kitties/KittiesGrid.js","kitties/CreateKittie.js","kitties/KittiePurchase.js","kitties/KittiesShopGrid.js","kitties/Main.js","kitties/App.js","index.js"],"names":["factoryABI","constant","inputs","name","type","outputs","payable","stateMutability","anonymous","indexed","KittieInfo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","showSellButton","setState","sellFlag","isSelling","isCanceling","handleChange","event","_event$target","target","value","defineProperty","close","initialState","state","_this2","selectedKittie","style","visibility","react_default","a","createElement","Modal","show","showDetails","onHide","handleCloseDetails","onExited","Header","closeButton","Title","Body","Image","src","url","responsive","forSale","height","className","Label","bsStyle","window","web3","utils","fromWei","price","Button","minWidth","disabled","onClick","kittieCancelSale","Footer","Form","inline","FormGroup","ControlLabel","FormControl","margin","placeholder","onChange","sellKittie","Component","Kittie","onLoad","didLoad","_this$props","kittie","showKittieDetails","Thumbnail","href","inShop","KittiesGrid","handleShowDetails","index","selectedKittieIndex","priceInEth","isNaN","kitties","id","undefined","columns","map","entry","Col","xs","md","key","kitties_Kittie","Grid","fluid","Row","kitties_KittieInfo","CreateKittie","isCreating","Well","bsSize","createFirstKittie","KittiePurchase","isBuying","buyKittie","KittiesShopGrid","kittiesForSale","kitties_KittiePurchase","Main","length","kitties_CreateKittie","Panel","minHeight","Tabs","defaultActiveKey","Tab","eventKey","title","kitties_KittiesGrid","kitties_KittiesShopGrid","App","enableEthereum","ethereum","Web3","enable","then","startApp","catch","error","console","log","alert","open","removeCharacter","characters","filter","character","i","subscribeOnEvents","contract","updateKittiesEvent","events","UpdateOwnerKitties","owner","userAccount","on","getKittiesByOwner","getKittiesForSale","unSubscribeOnEvents","unsubscribe","methods","kittiesResult","getKitties","localKitties","promises","kittieId","Promise","all","kittiesResults","fetch","parseInt","response","json","urlResult","toConsumableArray","concat","image_url","sort","b","send","from","gasPrice","toWei","closeKittieInfo","kittieForSale","closeKittiePurchase","handleSubmit","currentProvider","publicConfigStore","eth","getAccounts","accounts","Contract","PageHeader","kitties_Main","ReactDOM","render","kitties_App","document","getElementById"],"mappings":"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","file":"static/js/main.0b3a1296.chunk.js","sourcesContent":["export const contractAddress = \"0x6b64bed4936bccd10256dc062b992b999d43eeed\"; //testRPC\r\n\r\nexport const factoryABI = [\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_kittieId\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"buyKittie\",\r\n        \"outputs\": [],\r\n        \"payable\": true,\r\n        \"stateMutability\": \"payable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_owner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"getKittiesForSale\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256[]\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_kittieId\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"_priceInWei\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"kittieForSale\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [],\r\n        \"name\": \"renounceOwnership\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"kittieToOwner\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"kitties\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"id\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"price\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"name\": \"forSale\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"owner\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [],\r\n        \"name\": \"isOwner\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"bool\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": true,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_owner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"getKittiesByOwner\",\r\n        \"outputs\": [\r\n            {\r\n                \"name\": \"\",\r\n                \"type\": \"uint256[]\"\r\n            }\r\n        ],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"view\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"newOwner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"transferOwnership\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [],\r\n        \"name\": \"createFirstKittie\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"constant\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"name\": \"_kittieId\",\r\n                \"type\": \"uint256\"\r\n            }\r\n        ],\r\n        \"name\": \"kittieCancelSale\",\r\n        \"outputs\": [],\r\n        \"payable\": false,\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"id\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"owner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"NewPseudoKittie\",\r\n        \"type\": \"event\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": false,\r\n                \"name\": \"id\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"owner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"UpdateOwnerKitties\",\r\n        \"type\": \"event\"\r\n    },\r\n    {\r\n        \"anonymous\": false,\r\n        \"inputs\": [\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"previousOwner\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"indexed\": true,\r\n                \"name\": \"newOwner\",\r\n                \"type\": \"address\"\r\n            }\r\n        ],\r\n        \"name\": \"OwnershipTransferred\",\r\n        \"type\": \"event\"\r\n    }\r\n];\r\n","import React, {Component} from \"react\";\r\nimport {Button, ControlLabel, Form, FormControl, FormGroup, Image, Label, Modal} from \"react-bootstrap\";\r\n\r\n\r\nclass KittieInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.initialState = {\r\n            sellFlag: false,\r\n            isSelling: false,\r\n            isCanceling: false,\r\n            value: ''\r\n        };\r\n\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    showSellButton = () => {\r\n        this.setState({\r\n            sellFlag: true\r\n        })\r\n    };\r\n\r\n    isSelling = (isSelling) => {\r\n        this.setState({isSelling: isSelling});\r\n    };\r\n\r\n    isCanceling = (isCanceling) => {\r\n        this.setState({isCanceling: isCanceling});\r\n    };\r\n\r\n    handleChange = event => {\r\n        const {name, value} = event.target;\r\n        if (value >= 0) {\r\n            this.setState({\r\n                [name]: value\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n\r\n    close = () => {\r\n        this.setState(this.initialState);\r\n    };\r\n\r\n    render() {\r\n        if (this.props.selectedKittie) {\r\n            const style = this.state.sellFlag ? {} : {visibility: 'hidden'};\r\n            return (\r\n                <Modal show={this.props.showDetails} onHide={this.props.handleCloseDetails} onExited={this.close}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Kittie Info</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Image src={this.props.selectedKittie.url} responsive/>\r\n                        <div style={this.props.selectedKittie.forSale ? {} : {height: '0'}}>\r\n                            <div className=\"text-center\"\r\n                                 style={this.props.selectedKittie.forSale ? {} : {visibility: 'hidden'}}>\r\n                                <h1><Label bsStyle=\"warning\">For Sale</Label></h1>\r\n                                <h2>{window.web3.utils.fromWei(this.props.selectedKittie.price, 'ether')} ETH</h2>\r\n                                <Button style={{minWidth: '100px'}}\r\n                                        bsStyle=\"danger\"\r\n                                        disabled={this.state.isCanceling}\r\n                                        onClick={() => this.props.kittieCancelSale(this.isCanceling)}>{this.state.isCanceling ? 'Processing...' : 'Cancel'}</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer style={!this.props.selectedKittie.forSale ? {} : {visibility: 'hidden'}}>\r\n                        <Form inline>\r\n                            <FormGroup style={style}>\r\n                                <ControlLabel>Price in ETH</ControlLabel>\r\n                                <FormControl\r\n                                    style={{margin: '10px'}}\r\n                                    type=\"number\"\r\n                                    name=\"value\"\r\n                                    disabled={this.state.isSelling}\r\n                                    value={this.state.value}\r\n                                    placeholder=\"0.0001\"\r\n                                    onChange={this.handleChange}/>\r\n                            </FormGroup>\r\n                            <Button style={{minWidth: '100px'}}\r\n                                    bsStyle=\"primary\"\r\n                                    disabled={this.state.isSelling}\r\n                                    onClick={this.state.sellFlag ? () => this.props.sellKittie(this.state.value, this.isSelling) : this.showSellButton}>\r\n                                {this.state.sellFlag ? this.state.isSelling ? 'Processing...' : 'Confirm' : 'Sell'}\r\n                            </Button>\r\n                        </Form>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            );\r\n        } else {\r\n            return (<div/>)\r\n        }\r\n    }\r\n}\r\n\r\nexport default KittieInfo;","import React, {Component} from \"react\";\r\nimport {Label, Thumbnail} from \"react-bootstrap\";\r\n\r\n\r\nclass Kittie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            didLoad: false\r\n        }\r\n    }\r\n\r\n    onLoad = () => {\r\n        this.setState({\r\n            didLoad: true\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const style = this.state.didLoad ? {} : {visibility: 'hidden'};\r\n        const {kittie, showKittieDetails} = this.props;\r\n        const price =\r\n            <h2 className=\"text-center\">{window.web3.utils.fromWei(this.props.kittie.price, 'ether')} ETH</h2>;\r\n        const forSale =\r\n            <div className=\"text-center\" style={kittie.forSale ? {} : {visibility: 'hidden'}}>\r\n                <h1><Label bsStyle=\"warning\">For Sale</Label></h1>\r\n            </div>;\r\n        return (\r\n            <div\r\n                style={style}>\r\n                <Thumbnail\r\n                    href=\"#\"\r\n                    onLoad={this.onLoad}\r\n                    onClick={showKittieDetails}\r\n                    src={kittie.url}/>\r\n                {this.props.inShop ? price : forSale}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Kittie;","import React, {Component} from 'react';\r\nimport {Col, Grid, Row} from \"react-bootstrap\";\r\nimport KittieInfo from \"./KittieInfo\"\r\nimport Kittie from \"./Kittie\";\r\n\r\n\r\nclass KittiesGrid extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showDetails: false,\r\n            selectedKittieIndex: undefined\r\n        };\r\n    }\r\n\r\n\r\n    handleCloseDetails = () => {\r\n        this.setState({showDetails: false});\r\n    };\r\n\r\n\r\n    handleShowDetails = (index) => {\r\n        this.setState({\r\n            selectedKittieIndex: index,\r\n            showDetails: true\r\n        });\r\n    };\r\n\r\n    sellKittie = (priceInEth, isSelling) => {\r\n        if (!isNaN(priceInEth) && priceInEth > 0) {\r\n            this.props.sellKittie(this.props.kitties[this.state.selectedKittieIndex].id, priceInEth, isSelling, this.handleCloseDetails)\r\n        }\r\n    };\r\n\r\n    kittieCancelSale = (isCanceling) => {\r\n        this.props.kittieCancelSale(this.props.kitties[this.state.selectedKittieIndex].id, isCanceling)\r\n    };\r\n\r\n    render() {\r\n        const columns = this.props.kitties.map((entry, index) => {\r\n            return <Col xs={6} md={4} key={index}>\r\n                <Kittie\r\n                    kittie={this.props.kitties[index]}\r\n                    showKittieDetails={() => this.handleShowDetails(index)}\r\n                />\r\n            </Col>;\r\n        });\r\n        return (\r\n            <div>\r\n                <Grid className=\"kitties-grid\" fluid={true}>\r\n                    <Row>{columns}</Row>\r\n                </Grid>\r\n                <KittieInfo\r\n                    handleCloseDetails={this.handleCloseDetails}\r\n                    showDetails={this.state.showDetails}\r\n                    selectedKittie={this.props.kitties[this.state.selectedKittieIndex]}\r\n                    sellKittie={this.sellKittie}\r\n                    kittieCancelSale={this.kittieCancelSale}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default KittiesGrid;","import React, {Component} from \"react\";\r\nimport {Button, Well} from \"react-bootstrap\";\r\n\r\n\r\nclass CreateKittie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isCreating: false\r\n        };\r\n    }\r\n\r\n    isCreating = (isCreating) => {\r\n        this.setState({isCreating: isCreating});\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <Well className=\"center-block wellGenerate\">\r\n            <span\r\n                className=\"h2 center-block text-center\">{this.state.isCreating ? 'Creating your first Pseudo Kittie' : 'Create your first Pseudo Kittie'}</span>\r\n                <Button\r\n                    className=\"center-block\"\r\n                    bsStyle=\"primary\"\r\n                    bsSize=\"large\"\r\n                    disabled={this.state.isCreating}\r\n                    onClick={!this.state.isCreating ? () => this.props.createFirstKittie(this.isCreating) : null}>{this.state.isCreating ? 'Creating...' : 'Create'}</Button>\r\n            </Well>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CreateKittie;","import React, {Component} from \"react\";\r\nimport {Button, Image, Modal} from \"react-bootstrap\";\r\n\r\n\r\nclass KittiePurchase extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.initialState = {\r\n            isBuying: false\r\n        };\r\n\r\n        this.state = this.initialState;\r\n    }\r\n\r\n\r\n\r\n    isBuying = (isBuying) => {\r\n        this.setState({isBuying: isBuying});\r\n    };\r\n\r\n\r\n\r\n    close = () => {\r\n        this.setState(this.initialState);\r\n    };\r\n\r\n    render() {\r\n        if (this.props.selectedKittie) {\r\n            return (\r\n                <Modal show={this.props.showDetails} onHide={this.props.handleCloseDetails} onExited={this.close}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Kittie Purchase</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Image src={this.props.selectedKittie.url} responsive/>\r\n                        <Modal.Footer>\r\n                            <div className=\"text-center\">\r\n                                <h2>{window.web3.utils.fromWei(this.props.selectedKittie.price, 'ether')} ETH</h2>\r\n                                <Button style={{minWidth: '100px'}}\r\n                                        bsStyle=\"success\"\r\n                                        disabled={this.state.isBuying}\r\n                                        onClick={() => this.props.buyKittie(this.isBuying)}>{this.state.isBuying ? 'Processing...' : 'Buy'}</Button>\r\n                            </div>\r\n                        </Modal.Footer>\r\n                    </Modal.Body>\r\n                </Modal>\r\n            );\r\n        } else {\r\n            return (<div/>)\r\n        }\r\n    }\r\n}\r\n\r\nexport default KittiePurchase;","import React, {Component} from 'react';\r\nimport {Col, Grid, Row} from \"react-bootstrap\";\r\nimport Kittie from \"./Kittie\";\r\nimport KittiePurchase from \"./KittiePurchase\";\r\n\r\n\r\nclass KittiesShopGrid extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showDetails: false,\r\n            selectedKittieIndex: undefined\r\n        };\r\n    }\r\n\r\n\r\n    handleCloseDetails = () => {\r\n        this.setState({showDetails: false});\r\n    };\r\n\r\n\r\n    handleShowDetails = (index) => {\r\n        this.setState({\r\n            selectedKittieIndex: index,\r\n            showDetails: true\r\n        });\r\n    };\r\n\r\n    buyKittie = (isBuying) => {\r\n        const selectedKittie = this.props.kittiesForSale[this.state.selectedKittieIndex];\r\n        this.props.buyKittie(selectedKittie.id, selectedKittie.price, isBuying, this.handleCloseDetails)\r\n    };\r\n\r\n\r\n    render() {\r\n        if (this.props.kittiesForSale) {\r\n            const columns = this.props.kittiesForSale.map((entry, index) => {\r\n                return <Col xs={6} md={4} key={index}>\r\n                    <Kittie\r\n                        inShop={true}\r\n                        kittie={this.props.kittiesForSale[index]}\r\n                        showKittieDetails={() => this.handleShowDetails(index)}\r\n                    />\r\n                </Col>;\r\n            });\r\n            return (\r\n                <div>\r\n                    <Grid className=\"kitties-grid\" fluid={true}>\r\n                        <Row>{columns}</Row>\r\n                    </Grid>\r\n                    <KittiePurchase\r\n                        handleCloseDetails={this.handleCloseDetails}\r\n                        showDetails={this.state.showDetails}\r\n                        selectedKittie={this.props.kittiesForSale[this.state.selectedKittieIndex]}\r\n                        buyKittie={this.buyKittie}\r\n                    />\r\n                </div>\r\n            );\r\n        } else {\r\n            return (<div/>)\r\n        }\r\n    }\r\n}\r\n\r\nexport default KittiesShopGrid;","import React, {Component} from 'react';\r\nimport {Panel, Tab, Tabs} from \"react-bootstrap\";\r\nimport KittiesGrid from \"./KittiesGrid\"\r\nimport CreateKittie from \"./CreateKittie\";\r\nimport KittiesShopGrid from \"./KittiesShopGrid\";\r\n\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isCreating: false\r\n        };\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.kitties) {\r\n            if (this.props.kitties.length === 0) {\r\n                return (\r\n                    <CreateKittie\r\n                        createFirstKittie={this.props.createFirstKittie}\r\n                    />\r\n                );\r\n            } else {\r\n                return (\r\n                    <Panel\r\n                        style={{minHeight: '80vh'}}\r\n                        bsStyle=\"info\">\r\n                        <Tabs\r\n                            id=\"uncontrolled-tab\"\r\n                            defaultActiveKey={1}>\r\n                            <Tab eventKey={1} title=\"My kitties\">\r\n                                <KittiesGrid\r\n                                    sellKittie={this.props.sellKittie}\r\n                                    kittieCancelSale={this.props.kittieCancelSale}\r\n                                    kitties={this.props.kitties}\r\n                                />\r\n                            </Tab>\r\n                            <Tab eventKey={2} title=\"Kitties Shop\">\r\n                                <KittiesShopGrid\r\n                                    buyKittie={this.props.buyKittie}\r\n                                    kittiesForSale={this.props.kittiesForSale}\r\n                                />\r\n                            </Tab>\r\n                        </Tabs>\r\n                    </Panel>\r\n                );\r\n            }\r\n        } else {\r\n            return (<div/>)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Main;","import React, {Component} from 'react';\nimport Web3 from 'web3'\nimport {factoryABI, contractAddress} from '../ContractABI'\nimport {PageHeader} from \"react-bootstrap\";\nimport Main from \"./Main\";\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.initialState = {\n            characters: [],\n            kitties: undefined,\n            kittiesForSale: undefined,\n            userAccount: undefined,\n            contract: undefined,\n            updateKittiesEvent: undefined\n        };\n\n        this.state = this.initialState;\n    }\n\n\n    componentDidMount() {\n        this.enableEthereum();\n    }\n\n\n    startApp() {\n        window.web3.currentProvider.publicConfigStore.on('update', () => {\n            window.web3.eth.getAccounts().then((accounts) => {\n                if (accounts[0]) {\n                    if (accounts[0] !== this.state.userAccount) {\n                        this.unSubscribeOnEvents();\n                        this.setState({\n                            kitties: undefined,\n                            kittiesForSale: undefined,\n                            contract: new window.web3.eth.Contract(factoryABI, contractAddress),\n                            userAccount: accounts[0],\n                        });\n                        this.subscribeOnEvents();\n                        this.getKittiesByOwner();\n                        this.getKittiesForSale();\n                    }\n                } else {\n                    this.setState(this.initialState);\n                }\n            });\n        });\n    }\n\n    enableEthereum = () => {\n        if (window.ethereum) {\n            window.web3 = new Web3(window.ethereum);\n            window.ethereum.enable()\n                .then(() => {\n                    this.startApp()\n                })\n                .catch((error) => console.log(error))\n        } else {\n            alert(`'Non-Ethereum browser detected. You need install MetaMask!'`);\n            window.open(\"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn\",\"_self\")\n        }\n    };\n\n    removeCharacter = index => {\n        this.setState({\n            characters: this.state.characters.filter((character, i) => {\n                return i !== index;\n            })\n        })\n    };\n\n    subscribeOnEvents = () => {\n        const contract = this.state.contract;\n        if (contract) {\n            this.setState({\n                updateKittiesEvent: contract.events.UpdateOwnerKitties({filter: {owner: this.state.userAccount}})\n            });\n            this.state.updateKittiesEvent.on(\"data\", () => {\n                console.log(\"UpdateOwnerKitties\");\n                this.getKittiesByOwner();\n                this.getKittiesForSale();\n            });\n            // contract.events.UpdateKittiesForSale()\n            //     .on(\"data\", () => {\n            //         console.log(\"UpdateKittiesForSale\");\n            //         this.getKittiesForSale();\n            //     })\n        }\n    };\n\n    unSubscribeOnEvents = () => {\n        const event = this.state.updateKittiesEvent;\n        if (event) {\n            event.unsubscribe();\n        }\n    };\n\n    getKittiesByOwner = () => {\n        const contract = this.state.contract;\n        if (contract) {\n            contract.methods.getKittiesByOwner(this.state.userAccount).call().then((kittiesResult) => this.getKitties(kittiesResult, \"kitties\"));\n        }\n    };\n\n    getKittiesForSale = () => {\n        const contract = this.state.contract;\n        if (contract) {\n            contract.methods.getKittiesForSale(this.state.userAccount).call().then((kittiesResult) => this.getKitties(kittiesResult, \"kittiesForSale\"));\n        }\n    };\n\n    getKitties = (kittiesResult, kitties) => {\n        let localKitties = [];\n        let promises = kittiesResult.map(kittieId => this.state.contract.methods.kitties(kittieId).call());\n        Promise.all(promises).then(kittiesResults => {\n            let promises = kittiesResults.map(kittie =>\n                fetch(\"https://api.cryptokitties.co/kitties/\" + (parseInt(kittie.id) + 1))\n                    .then(response => response.json())\n                    .then(urlResult => {\n                        localKitties = [...localKitties, {\n                            id: kittie.id,\n                            price: kittie.price,\n                            forSale: kittie.forSale,\n                            url: urlResult.image_url\n                        }];\n                    }));\n\n            Promise.all(promises).then(() => {\n                localKitties.sort((a, b) => b.id - a.id);\n                this.setState({[kitties]: localKitties});\n            });\n        });\n    };\n\n    createFirstKittie = (isCreating) => {\n        const contract = this.state.contract;\n        if (contract) {\n            contract.methods.createFirstKittie().send({\n                from: this.state.userAccount,\n                gasPrice: window.web3.utils.toWei('1', 'gwei')\n            }).on(\"error\", () => {\n                isCreating(false);\n            });\n            isCreating(true);\n        }\n    };\n\n    sellKittie = (kittieId, priceInEth, isSelling, closeKittieInfo) => {\n        const contract = this.state.contract;\n        if (contract) {\n            let price = window.web3.utils.toWei(priceInEth, 'ether');\n            console.log(price);\n            contract.methods.kittieForSale(kittieId, price).send({\n                from: this.state.userAccount,\n                gasPrice: window.web3.utils.toWei('1', 'gwei')\n            }).on(\"receipt\", () => {\n                isSelling(false);\n                closeKittieInfo();\n            }).on(\"error\", () => {\n                isSelling(false);\n            });\n            isSelling(true);\n        }\n    };\n\n    buyKittie = (kittieId, price, isBuying, closeKittiePurchase) => {\n        const contract = this.state.contract;\n        if (contract) {\n            contract.methods.buyKittie(kittieId).send({\n                from: this.state.userAccount,\n                value: price,\n                gasPrice: window.web3.utils.toWei('1', 'gwei')\n            }).on(\"receipt\", () => {\n                isBuying(false);\n                closeKittiePurchase();\n            }).on(\"error\", () => {\n                isBuying(false);\n            });\n            isBuying(true);\n        }\n    };\n\n    kittieCancelSale = (kittieId, isCanceling) => {\n        const contract = this.state.contract;\n        if (contract) {\n            contract.methods.kittieCancelSale(kittieId).send({\n                from: this.state.userAccount,\n                gasPrice: window.web3.utils.toWei('1', 'gwei')\n            }).on(\"error\", () => {\n                isCanceling(false);\n            });\n            isCanceling(true);\n        }\n    };\n\n\n    handleSubmit = character => {\n        this.setState({characters: [...this.state.characters, character]})\n    };\n\n\n    render() {\n        const {characters} = this.state;\n        return (\n            <div className=\"container\">\n                <PageHeader className=\"center-block text-center title\">PseudoKitties</PageHeader>\n                <Main\n                    kitties={this.state.kitties}\n                    kittiesForSale={this.state.kittiesForSale}\n                    createFirstKittie={this.createFirstKittie}\n                    sellKittie={this.sellKittie}\n                    buyKittie={this.buyKittie}\n                    kittieCancelSale={this.kittieCancelSale}/>\n\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import 'bootstrap3/dist/css/bootstrap.min.css';\nimport 'bootstrap3/dist/css/bootstrap-theme.min.css';\nimport React from 'react';\nimport './index.css';\nimport App from './kitties/App';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}